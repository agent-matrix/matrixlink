{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"MatrixLink Suite","text":"<p>MatrixLink Suite = MatrixLink (PyPI client) + Front Door (BFF) + Admin UI + infra to run MCP Gateway + Orchestrators + A2A Agents.</p> <ul> <li>All services bind :8080 (host/path routing).</li> <li>East\u2013west calls use Bearer service tokens (optional mTLS).</li> <li>Default provider = local.</li> </ul> <p>See Quickstart to run locally in minutes.</p>"},{"location":"api/","title":"API","text":""},{"location":"api/#public-endpoints-via-bff-orchestrator","title":"Public endpoints (via BFF &amp; Orchestrator)","text":"Method Path Description GET <code>/api/health</code> Liveness GET <code>/api/ready</code> Readiness (+ MCP health) POST <code>/api/chat</code> Main chat entrypoint (edge \u2192 orchestrator)"},{"location":"api/#admin-endpoints-bff","title":"Admin endpoints (BFF)","text":"Method Path Secured Description GET <code>/api/mcp/servers</code> \u2705 Proxy list MCP servers GET <code>/api/mcp/tools</code> \u2705 Proxy list MCP tools POST <code>/api/mcp/servers</code> \u2705 Create MCP server (proxy) GET <code>/api/admin/agents</code> \u2705 List agents (local DB) POST <code>/api/admin/agents</code> \u2705 Create agent POST <code>/api/admin/agents/{id}/bind</code> \u2705 Bind agent \u2192 catalog URL POST <code>/api/admin/agents/{id}/run</code> \u2705 Invoke agent by name"},{"location":"configuration/","title":"Configuration","text":""},{"location":"configuration/#environment-variables-bff","title":"Environment variables (BFF)","text":"<ul> <li><code>ADMIN_BEARER</code></li> <li><code>MCP_BASE_URL</code></li> <li><code>MCP_BEARER_TOKEN</code></li> <li><code>AGENTS_BASE_URL</code></li> <li><code>AGENTS_API_TOKEN</code></li> </ul>"},{"location":"configuration/#environment-variables-matrixlink","title":"Environment variables (MatrixLink)","text":"<ul> <li><code>CLOUD_PROVIDER</code> \u2014 local|ce|gcrun|apprunner|aca|knative</li> <li><code>DOMAIN_SUFFIX</code> \u2014 e.g. proj.region.codeengine.appdomain.cloud</li> <li><code>MCP_SERVICE_NAME</code> \u2014 default mcp-gateway</li> <li><code>ORCH_SERVICE_NAME</code> \u2014 default orchestrator</li> <li><code>AGENTS_DOMAIN_PREFIX</code> \u2014 default agents</li> <li><code>MCP_BASE_URL</code>, <code>ORCH_BASE_URL</code>, <code>AGENTS_BASE_URL</code></li> <li><code>MCP_BEARER_TOKEN</code>, <code>A2A_SERVICE_TOKEN</code>, <code>TENANT_HEADER</code>, <code>REQUEST_TIMEOUT</code></li> </ul>"},{"location":"configuration/#provider-presets","title":"Provider presets","text":"<pre><code># Code Engine\nCLOUD_PROVIDER=ce\nDOMAIN_SUFFIX=proj.region.codeengine.appdomain.cloud\nMCP_SERVICE_NAME=mcp-gateway\nORCH_SERVICE_NAME=orchestrator\nAGENTS_DOMAIN_PREFIX=agents\n</code></pre>"},{"location":"deploy/","title":"Deploy","text":""},{"location":"deploy/#ibm-code-engine","title":"IBM Code Engine","text":"<ol> <li>Create secrets:     <code>bash     ./infra/secrets/create-secrets.sh</code></li> <li>Build &amp; push images:     <code>bash     make docker-build-bff docker-build-ui     make docker-push-bff docker-push-ui</code></li> <li>Create apps:     <code>bash     make ce-create-bff     make ce-create-ui</code></li> <li>Configure API Gateway routes:<ul> <li><code>/api/health|/api/ready|/api/admin/*|/api/mcp/*</code> -&gt; BFF</li> <li><code>/api/chat</code> (or <code>/api/flows/&lt;flow&gt;</code>)               -&gt; Orchestrator</li> </ul> </li> </ol>"},{"location":"deploy/#other-providers","title":"Other providers","text":"<p>Use env presets from Configuration. Endpoints resolve via either explicit <code>*_BASE_URL</code> or <code>DOMAIN_SUFFIX</code> + <code>SERVICE_NAME</code>.</p>"},{"location":"faq/","title":"FAQ","text":"<p>Do I need MCP Gateway to start? No. You can run BFF + UI locally without MCP. Add MCP when you need discovery, health-based routing, and policy/RBAC.</p> <p>How does MatrixLink find URLs? Either via explicit <code>*_BASE_URL</code> envs, or by composing <code>https://&lt;SERVICE&gt;.&lt;DOMAIN_SUFFIX&gt;</code> using provider hints.</p> <p>Can I run agents/orchestrators at scale-to-zero? Yes. Keep MCP and BFF warm (<code>minScale=1</code>) and let agents/orchestrators scale to 0/\u221e.</p> <p>What about multi-cloud? MatrixLink is provider-agnostic. Move workloads between CE/Run/App Runner/ACA/Knative with env changes only.</p>"},{"location":"matrixhub-matrixlink/","title":"MatrixHub \u00d7 MatrixLink \u2014 internet hub + portable runtime","text":"<p>MatrixHub is an internet-scale hub and search engine (like PyPI, but for agents and MCP servers). It indexes capability cards, trust, health and fitness so your teams can find and import the best candidates.</p> <p>MatrixLink is the portable, production-safe client + BFF that your apps use to discover and invoke those candidates at runtime with consistent contracts and env-based endpoints.</p>"},{"location":"matrixhub-matrixlink/#what-matrixhub-provides","title":"What MatrixHub provides","text":"<ul> <li>Open catalog &amp; search by skill (e.g. <code>report.generate</code>), tags (<code>domain:finance</code>), modes, license, region</li> <li>Trust/quality: uptime, success rate, latency, verified publisher, SBOM/attestation</li> <li>Governance: visibility (<code>private|team|global</code>), policy filtering, team tagging</li> <li>One-click import to your org\u2019s tenant (mirrored into your MCP Gateway)</li> </ul>"},{"location":"matrixhub-matrixlink/#how-matrixlink-consumes-it","title":"How MatrixLink consumes it","text":"<ul> <li><code>MCPClient.discover_agents(skill=..., input_mode=..., output_mode=...)</code></li> <li><code>MCPClient.discover_servers(role=\"orchestrator\", tags=[...])</code></li> <li><code>A2AClient.send_message(endpoint, data)</code> and optional SSE stream</li> <li><code>OrchestratorClient.invoke(flow, arguments)</code></li> <li>Provider-aware resolution via <code>CLOUD_PROVIDER</code>, <code>DOMAIN_SUFFIX</code>, or explicit <code>*_BASE_URL</code></li> </ul>"},{"location":"matrixhub-matrixlink/#typical-workflow","title":"Typical workflow","text":"<ol> <li>Search on public MatrixHub \u2192 pick candidate(s)</li> <li>Import into your org tenant \u2192 tagged, governed entries</li> <li>Deploy/attach endpoints \u2192 heartbeat into MCP</li> <li>Use MatrixLink from orchestrators/edge \u2192 discover and invoke at runtime</li> <li>Operate rollouts (canary/blue-green) without caller code changes</li> </ol>"},{"location":"matrixhub-matrixlink/#diagram","title":"Diagram","text":"<pre><code>flowchart TD\n  subgraph EXT[\"External\"]\n    UI[\"Clients / Apps / Chat UI\"]\n  end\n\n  subgraph EDGE[\"API Gateway / Front Door (public)\"]\n    APIGW[\"https://your-host/api/*\"]\n  end\n\n  subgraph CTRL[\"Control Plane\"]\n    MCP[\"MCP Gateway (registry, discovery, health)\"]\n  end\n\n  subgraph RUNTIME[\"Serverless / Containers (:8080)\"]\n    BFF[\"BFF (Front Door + MCP proxy)\"]\n    ORCH[\"Orchestrator(s) (MCP Servers)\"]\n    A1[\"A2A Agents (skills)\"]\n    A2[\"A2A Agents (skills)\"]\n    AX[\"\u2026 more Agents\"]\n  end\n\n  UI --&gt; APIGW\n  APIGW -- \"/api/health|/api/ready|/api/mcp/*|/api/admin/*\" --&gt; BFF\n  APIGW -- \"/api/chat or /api/flows/&lt;flow&gt;\" --&gt; ORCH\n\n  BFF --&gt; MCP\n  ORCH -.-&gt;|discover by skill| MCP\n  ORCH --&gt; A1\n  ORCH --&gt; A2\n  ORCH --&gt; AX\n</code></pre>"},{"location":"mcpgateway/","title":"MCP Gateway \u2014 when and how to use it","text":"<p>When you need it - Runtime discovery by skill/tags across many agents - A registry with visibility, RBAC, health and fitness scoring - Traffic shaping via tags (canary, tier) and safe rollouts</p> <p>Local dev - Run a lightweight MCP instance at <code>http://localhost:4444</code> - Point BFF/clients with <code>MCP_BASE_URL=http://localhost:4444</code></p> <p>Cloud - Deploy/consume a managed MCP; set <code>MCP_BASE_URL</code> (or use <code>DOMAIN_SUFFIX</code> + <code>MCP_SERVICE_NAME</code>) - Use <code>MCP_BEARER_TOKEN</code> for service-to-service auth</p> <p>Discovery APIs (typical) - <code>GET /discover/agents?skill=...&amp;inputMode=...&amp;outputMode=...&amp;healthyOnly=true</code> - <code>GET /discover/servers?role=orchestrator&amp;tags=...</code></p> <p>Best practices - Keep MCP warm (<code>minScale=1</code>) for low latency discovery - Enforce RBAC + tenancy headers end-to-end - Emit heartbeats from agents/orchestrators with version &amp; region tags</p>"},{"location":"quickstart/","title":"Quickstart","text":""},{"location":"quickstart/#prereqs","title":"Prereqs","text":"<ul> <li>Python 3.10+</li> <li>Node 18+</li> <li>Docker (optional)</li> </ul>"},{"location":"quickstart/#bff-local","title":"BFF (local)","text":"<pre><code>make install\nexport ADMIN_BEARER=changeme-admin-bearer-token\nexport MCP_BASE_URL=http://localhost:4444  # optional if you run MCP locally\nmake run-bff\n</code></pre> <p>Open: http://localhost:8080/api/health</p>"},{"location":"quickstart/#admin-ui-local","title":"Admin UI (local)","text":"<pre><code>make dev-ui\n</code></pre> <p>Open: http://localhost:3000</p>"},{"location":"quickstart/#matrixlink-library","title":"MatrixLink library","text":"<pre><code># dev install from repo\ncd libs/matrixlink\npip install -e .\n\n# or from PyPI once published\npip install matrixlink\n</code></pre>"},{"location":"security/","title":"Security &amp; Ops","text":""},{"location":"security/#authentication-authorization","title":"Authentication &amp; Authorization","text":"<ul> <li>Edge: verify user OIDC/JWT for <code>/api/chat</code> and user-facing routes</li> <li>East\u2013west: service bearer tokens; optionally mTLS between internal services</li> <li>Admin plane: <code>ADMIN_BEARER</code> for <code>/api/admin/*</code> and <code>/api/mcp/*</code></li> </ul>"},{"location":"security/#tenancy-headers","title":"Tenancy &amp; Headers","text":"<ul> <li>Propagate <code>X-Tenant-Id</code> from edge \u2192 orchestrator \u2192 agents</li> <li>Enforce visibility in MCP (<code>private|team|global</code>) and team tags</li> </ul>"},{"location":"security/#observability","title":"Observability","text":"<ul> <li>Use <code>X-Request-Id</code> for correlation; structured logs</li> <li>Add OTEL exporters if desired; ensure SSE endpoints are not buffered by edge</li> </ul>"},{"location":"security/#slo-guidance","title":"SLO Guidance","text":"<ul> <li>Discovery P99 &lt; 50 ms</li> <li>Agent success rate &gt; 99.5% (ex-upstream)</li> <li>First SSE event &lt; 250 ms</li> </ul>"},{"location":"security/#lifecycle-rollouts","title":"Lifecycle &amp; Rollouts","text":"<ul> <li>Blue/green with tags (<code>canary</code>, <code>stable</code>)</li> <li>Traffic shaping in MCP; deprecate with policy windows</li> </ul>"},{"location":"security/#data-secrets","title":"Data &amp; Secrets","text":"<ul> <li>Store secrets in provider secret stores</li> <li>Never bake tokens into images; rotate regularly</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p><code>ModuleNotFoundError: matrixlink</code> when running BFF locally - Run <code>make install</code> to install the library into the BFF venv.</p> <p>MCP base URL not set - Set <code>MCP_BASE_URL</code> or configure <code>CLOUD_PROVIDER</code> + <code>DOMAIN_SUFFIX</code> + <code>MCP_SERVICE_NAME</code>.</p> <p>CORS errors in the Admin UI - Set <code>CORS_ALLOW_ORIGINS</code> in BFF (e.g., <code>http://localhost:3000</code>).</p> <p>401 on admin routes - Set <code>ADMIN_BEARER</code> and pass <code>Authorization: Bearer &lt;token&gt;</code> from the UI Settings.</p> <p>SSE not streaming - Ensure your API Gateway does not buffer <code>text/event-stream</code> responses.</p>"}]}